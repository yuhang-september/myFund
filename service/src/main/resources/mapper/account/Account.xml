<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yuhang.service.mapper.account.AccountMapper">

    <resultMap id="Account" type="com.yuhang.service.entity.account.Account">
        <id column="id" property="id" javaType="String" jdbcType="CHAR"/>
        <result column="name" property="name" javaType="String" jdbcType="VARCHAR"/>
        <result column="password" property="password" javaType="String" jdbcType="CHAR"/>
        <result column="certification_no" property="certificationNo" javaType="String" jdbcType="VARCHAR"/>
        <result column="certification_type" property="certificationType" javaType="String" jdbcType="CHAR"/>
        <result column="profession" property="profession" javaType="String" jdbcType="CHAR"/>
        <result column="birthday" property="birthday" javaType="java.util.Date" jdbcType="DATE"/>
        <result column="phone" property="phone" javaType="String" jdbcType="VARCHAR"/>
        <result column="address_country" property="addressCountry" javaType="String" jdbcType="CHAR"/>
        <result column="address_province" property="addressProvince" javaType="String" jdbcType="VARCHAR"/>
        <result column="address_city" property="addressCity" javaType="String" jdbcType="VARCHAR"/>
        <result column="address_street" property="addressStreet" javaType="String" jdbcType="VARCHAR"/>
        <result column="address_postcode" property="addressPostcode" javaType="String" jdbcType="VARCHAR"/>
        <result column="create_time" property="createTime" javaType="Date" jdbcType="DATETIMEOFFSET"/>
        <result column="last_update_time" property="lastUpdateTime" javaType="Date" jdbcType="DATETIMEOFFSET"/>
    </resultMap>

    <sql id="allColumns">
        id,
        name,
        password,
        certification_type,
        certification_no,
        profession,
        birthday,
        phone,
        address_country,
        address_province,
        address_city,
        address_street,
        address_postcode,
        create_time,
        last_update_time
    </sql>

    <insert id="insert" parameterType="com.yuhang.service.entity.account.Account">
        insert into ac_account (<include refid="allColumns"/>) value (
        #{account.id},#{account.name},#{account.password},#{account.certificationType},#{account.certificationNo},
        #{account.profession},#{account.birthday},#{account.phone},#{account.addressCountry},#{account.addressProvince},
        #{account.addressCity},#{account.addressStreet},#{account.addressPostcode},#{account.createTime},#{account.lastUpdateTime}
        )
    </insert>

    <update id="update" parameterType="com.yuhang.service.entity.account.Account">
        update ac_account
        set name = #{account.name},
            password = #{account.password},
            certification_type = #{account.certificationType},
            certification_no = #{account.certificationNo},
            profession = #{account.profession},
            birthday = #{account.birthday},
            phone = #{account.phone},
            address_country = #{account.addressCountry},
            address_province = #{account.addressProvince},
            address_city = #{account.addressCity},
            address_street = #{account.addressStreet},
            address_postcode = #{account.addressPostcode},
            last_update_time = #{account.lastUpdateTime}
        where id = #{account.id}
    </update>

    <select id="selectById" resultMap="Account">
        SELECT
        <include refid="allColumns"/>
        FROM ac_account
        where id = #{id}
    </select>

    <select id="selectByNameAndPassword" resultMap="Account">
        SELECT
        <include refid="allColumns"/>
        FROM
        ac_account
        where name = #{name} and password = #{password}
    </select>

    <select id="selectByCertification" resultMap="Account">
        select
        <include refid="allColumns"/>
        FROM
        ac_account
        where certification_type = #{certificationType} and certification_no = #{certificationNo}
    </select>
</mapper>