<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yuhang.trading.mapper.payment.AccountPaymentChannelMapper">

    <resultMap id="AccountPaymentChannel" type="com.yuhang.trading.entity.payment.AccountPaymentChannel">
        <id column="id" property="id" javaType="String" jdbcType="VARCHAR"/>
        <result column="bank_account_no" property="bankAccountNo" javaType="String" jdbcType="VARCHAR"/>
        <result column="account_no" property="accountNo" javaType="String" jdbcType="CHAR"/>
        <result column="payment_channel" property="paymentChannel" javaType="String" jdbcType="CHAR"/>
        <result column="status" property="status" javaType="int" jdbcType="INTEGER"/>
        <result column="create_time" property="createTime" javaType="Date" jdbcType="TIMESTAMP"/>
        <result column="last_update_time" property="lastUpdateTime" javaType="Date" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="allColumns">
        id,
        account_no,
        bank_account_no,
        payment_channel,
        status,
        create_time,
        last_update_time
    </sql>

    <insert id="insert" parameterType="com.yuhang.trading.entity.payment.AccountPaymentChannel">
        insert into ac_payment_channel (id, account_no, bank_account_no, payment_channel, status, create_time,
                                        last_update_time)
        values (#{paymentChannel.id}, #{paymentChannel.accountNo}, #{paymentChannel.bankAccountNo},
                #{paymentChannel.paymentChannel}, #{paymentChannel.status}, #{paymentChannel.createTime},
                #{paymentChannel.lastUpdateTime})
    </insert>

    <select id="queryByAccountNo" resultMap="AccountPaymentChannel">
        select <include refid="allColumns" /> from ac_payment_channel where account_no = #{accountNo}
    </select>


</mapper>